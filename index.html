
  fetch(url)
  .then(response => response.json())
  .then(data => {
    nextPageToken = data.nextPageToken;
    displayVideos(data.items);
  })
  .catch(error => {
    console.error('Error fetching data: ', error);
    alert("There was an error with the API request. Check the console for more information.");
  });
}

function displayVideos(videos) {
  const videoList = document.getElementById('videoList');
  videos.forEach(video => {
    const videoElement = document.createElement('div');
    videoElement.classList.add('video-item');
    videoElement.innerHTML = `
      <div class="video-thumbnail">
        <img src="${video.snippet.thumbnails.default.url}" alt="${video.snippet.title}">
      </div>
      <div class="video-details">
        <a href="https://www.youtube.com/watch?v=${video.id.videoId}" target="_blank">
          <h3>${video.snippet.title}</h3>
        </a>
        <div>${new Date(video.snippet.publishedAt).toDateString()}</div>
        <div>Channel: ${video.snippet.channelTitle}</div>
      </div>
    `;
    videoList.appendChild(videoElement);
  });
}
</script>

</body>
</html>
